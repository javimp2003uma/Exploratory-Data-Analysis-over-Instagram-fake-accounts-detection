<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TAREA PROYECTO - BOOK LCC - 5&nbsp; Regresión</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./seriestemporales.html" rel="next">
<link href="./fca.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./regresion.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regresión</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">TAREA PROYECTO - BOOK LCC</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analisisexploratorio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Análisis exploratorio de datos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visualizaciondatos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Visualización de datos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reglasasociacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Reglas de asociación</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">FCA</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regresion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regresión</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seriestemporales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Series temporales</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./otrastecnicas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Otras técnicas</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regresión</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Llega la hora de meternos de lleno en el mundo de los modelos de regresión. Se trata de un campos del análisis de datos realmente valioso e interesante ya que: <strong>nos permite modelar y entender las relaciones entre variables</strong> (lo que es fundamental para comprender cómo ciertos factores afectan a otros en un sistema dado), <strong>podemos predecir valores futuros basados en datos históricos</strong>, <strong>La regresión nos proporciona herramientas para evaluar la calidad y validez de nuestros modelos</strong>, <strong>estos son de diferentes naturalezas y muy versátiles</strong>, …</p>
<div style="text-align:center;">
<p><a href="https://es.wikipedia.org/wiki/Regresi%C3%B3n_lineal"> <img src="images/3.png" alt="Imagen" width="300"> </a></p>
</div>
<p>El propósito final, por tanto, será encontrar modelos que dadas una serie de variables asociadas a un dataset, se ajusten a la nube de puntos generadas por las mismas, y que por tanto permita evaluar en un futuro datos que no han sido usados para generar el modelo en cuestión.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/train.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 576 Columns: 12
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (12): profile pic, nums/length username, fullname words, nums/length ful...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/test.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 120 Columns: 12
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (12): profile pic, nums/length username, fullname words, nums/length ful...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(train, test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En primer lugar, para ver cuales pueden ser pares de variables interesantes de cara a representar, podemos usar <a href="https://www.geeksforgeeks.org/how-to-create-and-interpret-pairs-plots-in-r/#:~:text=The%20pairs%20function%20is%20provided,variables%20in%20the%20data%20frame.&amp;text=Parameter%3A,for%20plotting%20to%20scatter%20plot.">pairs</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(all_data[<span class="fu">colnames</span>(all_data)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">cor</span>(all_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">profile pic</th>
<th style="text-align: right;">nums/length username</th>
<th style="text-align: right;">fullname words</th>
<th style="text-align: right;">nums/length fullname</th>
<th style="text-align: right;">name==username</th>
<th style="text-align: right;">description length</th>
<th style="text-align: right;">external URL</th>
<th style="text-align: right;">private</th>
<th style="text-align: right;">#posts</th>
<th style="text-align: right;">#followers</th>
<th style="text-align: right;">#follows</th>
<th style="text-align: right;">fake</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">profile pic</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.3206651</td>
<td style="text-align: right;">0.2198022</td>
<td style="text-align: right;">-0.1113861</td>
<td style="text-align: right;">-0.1325460</td>
<td style="text-align: right;">0.3569033</td>
<td style="text-align: right;">0.2280166</td>
<td style="text-align: right;">0.1525347</td>
<td style="text-align: right;">0.1695865</td>
<td style="text-align: right;">0.0597795</td>
<td style="text-align: right;">0.1581316</td>
<td style="text-align: right;">-0.6245477</td>
</tr>
<tr class="even">
<td style="text-align: left;">nums/length username</td>
<td style="text-align: right;">-0.3206651</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.2362528</td>
<td style="text-align: right;">0.4680883</td>
<td style="text-align: right;">0.0608612</td>
<td style="text-align: right;">-0.3172081</td>
<td style="text-align: right;">-0.2331335</td>
<td style="text-align: right;">-0.1043411</td>
<td style="text-align: right;">-0.1611659</td>
<td style="text-align: right;">-0.0635941</td>
<td style="text-align: right;">-0.1667347</td>
<td style="text-align: right;">0.5703625</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fullname words</td>
<td style="text-align: right;">0.2198022</td>
<td style="text-align: right;">-0.2362528</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.1022177</td>
<td style="text-align: right;">-0.0853250</td>
<td style="text-align: right;">0.2751279</td>
<td style="text-align: right;">0.2038937</td>
<td style="text-align: right;">-0.0587288</td>
<td style="text-align: right;">0.0867783</td>
<td style="text-align: right;">0.0391406</td>
<td style="text-align: right;">0.0621989</td>
<td style="text-align: right;">-0.3004846</td>
</tr>
<tr class="even">
<td style="text-align: left;">nums/length fullname</td>
<td style="text-align: right;">-0.1113861</td>
<td style="text-align: right;">0.4680883</td>
<td style="text-align: right;">-0.1022177</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.2600738</td>
<td style="text-align: right;">-0.1193185</td>
<td style="text-align: right;">-0.0934336</td>
<td style="text-align: right;">-0.0750208</td>
<td style="text-align: right;">-0.0625152</td>
<td style="text-align: right;">-0.0275424</td>
<td style="text-align: right;">-0.0526415</td>
<td style="text-align: right;">0.2509043</td>
</tr>
<tr class="odd">
<td style="text-align: left;">name==username</td>
<td style="text-align: right;">-0.1325460</td>
<td style="text-align: right;">0.0608612</td>
<td style="text-align: right;">-0.0853250</td>
<td style="text-align: right;">0.2600738</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.0457051</td>
<td style="text-align: right;">-0.0447284</td>
<td style="text-align: right;">0.0282962</td>
<td style="text-align: right;">-0.0504453</td>
<td style="text-align: right;">-0.0180985</td>
<td style="text-align: right;">-0.0071267</td>
<td style="text-align: right;">0.1621392</td>
</tr>
<tr class="even">
<td style="text-align: left;">description length</td>
<td style="text-align: right;">0.3569033</td>
<td style="text-align: right;">-0.3172081</td>
<td style="text-align: right;">0.2751279</td>
<td style="text-align: right;">-0.1193185</td>
<td style="text-align: right;">-0.0457051</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.4897756</td>
<td style="text-align: right;">-0.0313382</td>
<td style="text-align: right;">0.1850584</td>
<td style="text-align: right;">0.0323332</td>
<td style="text-align: right;">0.2243101</td>
<td style="text-align: right;">-0.4788901</td>
</tr>
<tr class="odd">
<td style="text-align: left;">external URL</td>
<td style="text-align: right;">0.2280166</td>
<td style="text-align: right;">-0.2331335</td>
<td style="text-align: right;">0.2038937</td>
<td style="text-align: right;">-0.0934336</td>
<td style="text-align: right;">-0.0447284</td>
<td style="text-align: right;">0.4897756</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.1517716</td>
<td style="text-align: right;">0.1988325</td>
<td style="text-align: right;">0.0533685</td>
<td style="text-align: right;">0.1304888</td>
<td style="text-align: right;">-0.3578252</td>
</tr>
<tr class="even">
<td style="text-align: left;">private</td>
<td style="text-align: right;">0.1525347</td>
<td style="text-align: right;">-0.1043411</td>
<td style="text-align: right;">-0.0587288</td>
<td style="text-align: right;">-0.0750208</td>
<td style="text-align: right;">0.0282962</td>
<td style="text-align: right;">-0.0313382</td>
<td style="text-align: right;">-0.1517716</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.0717481</td>
<td style="text-align: right;">-0.0715365</td>
<td style="text-align: right;">-0.0620013</td>
<td style="text-align: right;">-0.1339719</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#posts</td>
<td style="text-align: right;">0.1695865</td>
<td style="text-align: right;">-0.1611659</td>
<td style="text-align: right;">0.0867783</td>
<td style="text-align: right;">-0.0625152</td>
<td style="text-align: right;">-0.0504453</td>
<td style="text-align: right;">0.1850584</td>
<td style="text-align: right;">0.1988325</td>
<td style="text-align: right;">-0.0717481</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.3436164</td>
<td style="text-align: right;">0.1141541</td>
<td style="text-align: right;">-0.2506252</td>
</tr>
<tr class="even">
<td style="text-align: left;">#followers</td>
<td style="text-align: right;">0.0597795</td>
<td style="text-align: right;">-0.0635941</td>
<td style="text-align: right;">0.0391406</td>
<td style="text-align: right;">-0.0275424</td>
<td style="text-align: right;">-0.0180985</td>
<td style="text-align: right;">0.0323332</td>
<td style="text-align: right;">0.0533685</td>
<td style="text-align: right;">-0.0715365</td>
<td style="text-align: right;">0.3436164</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.0205692</td>
<td style="text-align: right;">-0.0938015</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#follows</td>
<td style="text-align: right;">0.1581316</td>
<td style="text-align: right;">-0.1667347</td>
<td style="text-align: right;">0.0621989</td>
<td style="text-align: right;">-0.0526415</td>
<td style="text-align: right;">-0.0071267</td>
<td style="text-align: right;">0.2243101</td>
<td style="text-align: right;">0.1304888</td>
<td style="text-align: right;">-0.0620013</td>
<td style="text-align: right;">0.1141541</td>
<td style="text-align: right;">0.0205692</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.1542582</td>
</tr>
<tr class="even">
<td style="text-align: left;">fake</td>
<td style="text-align: right;">-0.6245477</td>
<td style="text-align: right;">0.5703625</td>
<td style="text-align: right;">-0.3004846</td>
<td style="text-align: right;">0.2509043</td>
<td style="text-align: right;">0.1621392</td>
<td style="text-align: right;">-0.4788901</td>
<td style="text-align: right;">-0.3578252</td>
<td style="text-align: right;">-0.1339719</td>
<td style="text-align: right;">-0.2506252</td>
<td style="text-align: right;">-0.0938015</td>
<td style="text-align: right;">-0.1542582</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>maximoCor <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">cor</span>(all_data)[<span class="fu">cor</span>(all_data) <span class="sc">!=</span> <span class="dv">1</span>])</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">cor</span>(all_data) <span class="sc">==</span> maximoCor, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     row col
fake                  12   2
nums/length username   2  12</code></pre>
</div>
</div>
<p>El problema es que obtenemos que <em>fake</em> es la mejor opción de elección de atributos y sabemos que dicha variable es binaria, por lo que no se trataría de un modelo de regresión, sino de clasificación. Como este problema lo vamos a arrastrar durante esta sección, considero que una buena elección puede ser quitarnos temporalmente las variables binarias…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>binary_vars <span class="ot">&lt;-</span> <span class="fu">sapply</span>(all_data, <span class="cf">function</span>(x) <span class="fu">length</span>(<span class="fu">unique</span>(x)) <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> all_data[,<span class="sc">!</span>binary_vars]</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">cor</span>(all_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">nums/length username</th>
<th style="text-align: right;">fullname words</th>
<th style="text-align: right;">nums/length fullname</th>
<th style="text-align: right;">description length</th>
<th style="text-align: right;">#posts</th>
<th style="text-align: right;">#followers</th>
<th style="text-align: right;">#follows</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">nums/length username</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.2362528</td>
<td style="text-align: right;">0.4680883</td>
<td style="text-align: right;">-0.3172081</td>
<td style="text-align: right;">-0.1611659</td>
<td style="text-align: right;">-0.0635941</td>
<td style="text-align: right;">-0.1667347</td>
</tr>
<tr class="even">
<td style="text-align: left;">fullname words</td>
<td style="text-align: right;">-0.2362528</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.1022177</td>
<td style="text-align: right;">0.2751279</td>
<td style="text-align: right;">0.0867783</td>
<td style="text-align: right;">0.0391406</td>
<td style="text-align: right;">0.0621989</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nums/length fullname</td>
<td style="text-align: right;">0.4680883</td>
<td style="text-align: right;">-0.1022177</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.1193185</td>
<td style="text-align: right;">-0.0625152</td>
<td style="text-align: right;">-0.0275424</td>
<td style="text-align: right;">-0.0526415</td>
</tr>
<tr class="even">
<td style="text-align: left;">description length</td>
<td style="text-align: right;">-0.3172081</td>
<td style="text-align: right;">0.2751279</td>
<td style="text-align: right;">-0.1193185</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.1850584</td>
<td style="text-align: right;">0.0323332</td>
<td style="text-align: right;">0.2243101</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#posts</td>
<td style="text-align: right;">-0.1611659</td>
<td style="text-align: right;">0.0867783</td>
<td style="text-align: right;">-0.0625152</td>
<td style="text-align: right;">0.1850584</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.3436164</td>
<td style="text-align: right;">0.1141541</td>
</tr>
<tr class="even">
<td style="text-align: left;">#followers</td>
<td style="text-align: right;">-0.0635941</td>
<td style="text-align: right;">0.0391406</td>
<td style="text-align: right;">-0.0275424</td>
<td style="text-align: right;">0.0323332</td>
<td style="text-align: right;">0.3436164</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.0205692</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#follows</td>
<td style="text-align: right;">-0.1667347</td>
<td style="text-align: right;">0.0621989</td>
<td style="text-align: right;">-0.0526415</td>
<td style="text-align: right;">0.2243101</td>
<td style="text-align: right;">0.1141541</td>
<td style="text-align: right;">0.0205692</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Parece ser que <code>nums/length fullname</code> y <code>nums/length username</code> puede ser una buena opción para comenzar. La función <a href="https://www.institutomora.edu.mx/testU/SitePages/martinpaladino/modelos_lineales_con_R.html#ajuste-de-modelo-lineales-con-lm:~:text=y%20como%20interpretarlos.-,2%20Ajuste%20de%20modelo%20lineales%20con%20lm(),-lm()%20es">lm()</a> es la función de R para ajustar modelos lineales (la más importante). La manera de llevarla a la práctica es la siguiente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>firstModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">nums/length fullname</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> all_data)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>firstModel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `nums/length fullname` ~ `nums/length username`, 
    data = all_data)

Coefficients:
           (Intercept)  `nums/length username`  
             -0.008999                0.307118  </code></pre>
</div>
</div>
<p>Para no tener que especificar siempre el dataset sobre el cual se extraen o usan los atributos, se puede usar <a href="https://reptantia.com/blogs/r/attach-y-detach-en-r">attach</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(all_data)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>,<span class="st">`</span><span class="at">nums/length fullname</span><span class="st">`</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(firstModel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(firstModel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `nums/length fullname` ~ `nums/length username`, 
    data = all_data)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.27048 -0.06548  0.00900  0.00900  0.77866 

Coefficients:
                        Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            -0.008999   0.006053  -1.487    0.138    
`nums/length username`  0.307118   0.022009  13.954   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.127 on 694 degrees of freedom
Multiple R-squared:  0.2191,    Adjusted R-squared:  0.218 
F-statistic: 194.7 on 1 and 694 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>La salida del resumen (summary) del modelo de regresión lineal proporciona información importante sobre la ajuste del modelo a los datos y la significancia de las variables predictoras.</p>
<ul>
<li><strong>Residuals (Residuos):</strong> Esta sección muestra estadísticas resumidas sobre los residuos del modelo, que son las diferencias entre los valores observados y los valores predichos por el modelo. Proporciona una idea de cómo se distribuyen los errores de predicción.</li>
<li><strong>Coefficients (Coeficientes):</strong> Esta tabla presenta los coeficientes estimados para cada variable predictora en el modelo. Los coeficientes indican la magnitud y la dirección de la relación entre cada variable predictora y la variable de respuesta. Además, los valores t y los valores p asociados con cada coeficiente ayudan a evaluar la significancia estadística de las variables predictoras.</li>
<li><strong>Multiple R-squared (R cuadrado múltiple):</strong> Este coeficiente de determinación indica la proporción de variabilidad en la variable de respuesta que es explicada por el modelo. Cuanto más cercano sea el R cuadrado a 1, mejor se ajusta el modelo a los datos.</li>
<li><strong>F-statistic (Estadístico F):</strong> Este estadístico se utiliza para probar la significancia global del modelo. Evalúa si al menos una de las variables predictoras tiene un efecto significativo sobre la variable de respuesta. El valor p asociado indica si el modelo en su conjunto es significativo</li>
</ul>
<p>Como se puede apreciar en el gráfico representado anteriormente, existen muchos puntos dondes <em>nums/length fullname</em> es igual a 0, lo que hace que la precisión de nuestro modelo de regresión se reduzca drásticamente. Una posible solución para esto podría ser eliminar dichos puntos…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>all_data_clean <span class="ot">&lt;-</span> all_data[all_data<span class="sc">$</span><span class="st">`</span><span class="at">nums/length fullname</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>secondModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">nums/length fullname</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> all_data_clean)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>secondModel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `nums/length fullname` ~ `nums/length username`, 
    data = all_data_clean)

Coefficients:
           (Intercept)  `nums/length username`  
               0.09203                 0.75790  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(all_data_clean<span class="sc">$</span><span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>,all_data_clean<span class="sc">$</span><span class="st">`</span><span class="at">nums/length fullname</span><span class="st">`</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(secondModel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(secondModel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = `nums/length fullname` ~ `nums/length username`, 
    data = all_data_clean)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.56382 -0.07045 -0.01698  0.04213  0.33955 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)             0.09203    0.03148   2.923  0.00463 ** 
`nums/length username`  0.75790    0.06699  11.314  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.1404 on 72 degrees of freedom
Multiple R-squared:   0.64, Adjusted R-squared:  0.635 
F-statistic:   128 on 1 and 72 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>¡Esto ha mejorado bastante! Este segundo modelo presenta un <span class="math inline">\(R^2\)</span> de 0.64, es decir, el modelo es capaz de acertar los puntos en un 64% de los casos, ademas de presentar un <em>p-value</em> realmente correcto. Si quisieramos ver algunas de las gráficas representativas del modelo…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(firstModel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Se aprecia como la última gráfica, se pueden interpretar las <a href="https://en.wikipedia.org/wiki/Cook%27s_distance">distancias de Cook</a> para identificar observaciones influyentes en el modelo. Una regla general es que si la distancia de Cook para una observación es mayor que 1, esta observación puede tener una influencia desproporcionada en el modelo y podría considerarse influyente. Sin embargo, el umbral para considerar una observación como influyente puede variar según el contexto del problema y la cantidad de datos disponibles. Ademas, en el propio gráfico R nos muestra una serie de puntos etiquetados que representan aquellos que hacen que el modelo pierda eficacia, por lo que una posible solución de mejora del modelo de regresión sería quitarnos del medio dichos puntos.</p>
<p>Podemos probar ahora a realizar un modelo entre <code>description length</code> y <code>nums/length username</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>all_data_clean_2 <span class="ot">&lt;-</span> all_data[all_data<span class="sc">$</span><span class="st">`</span><span class="at">description length</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> all_data<span class="sc">$</span><span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>thirdModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(<span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>) <span class="sc">~</span> <span class="st">`</span><span class="at">description length</span><span class="st">`</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> all_data_clean_2)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>thirdModel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = log(`nums/length username`) ~ `description length`, 
    data = all_data_clean_2)

Coefficients:
         (Intercept)  `description length`  
           -1.360939             -0.002341  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>all_data_clean_2 <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">description length</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">description length</span><span class="st">`</span>, <span class="at">y =</span> <span class="fu">predict</span>(thirdModel)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fit0 <span class="ot">&lt;-</span> all_data_clean_2<span class="sc">$</span><span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span> <span class="sc">~</span> <span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span> <span class="sc">+</span> all_data_clean_2<span class="sc">$</span><span class="st">`</span><span class="at">description length</span><span class="st">`</span><span class="sc">^</span>c)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>thirdModelUpdated <span class="ot">&lt;-</span> <span class="fu">nls</span>(fit0, <span class="at">data =</span> all_data_clean_2, <span class="at">start =</span> <span class="fu">list</span>(<span class="at">c =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(thirdModelUpdated)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Formula: all_data_clean_2$`nums/length username` ~ 1/(1 + all_data_clean_2$`description length`^c)

Parameters:
  Estimate Std. Error t value Pr(&gt;|t|)    
c  0.27570    0.02909   9.476 1.86e-14 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.169 on 75 degrees of freedom

Number of iterations to convergence: 4 
Achieved convergence tolerance: 3.372e-06</code></pre>
</div>
</div>
<p>Haciendo uso de <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/nls"><em>nls</em></a> y de una función exponencial hemos logrado obtener un resultado mucho mejor, como se puede ver visualmente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>all_data_clean_2 <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">description length</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">nums/length username</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">description length</span><span class="st">`</span>, <span class="at">y =</span> <span class="fu">predict</span>(thirdModelUpdated)),<span class="at">color=</span><span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="regresion_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Con esto terminamos la sección de modelos de regresión. Aunque esta vez hemos encontrado un poco más de dificultades debido a la naturaleza del dataset del cual disponemos, hemos logrado encontrar algunos modelos que muestran realmente información interesante de manera visual entre enfrentamientos de variables de nuestro conjunto de datos. Pasamos ahora a la parte de <em>series temporales</em>, conjuntos de datos que representan observaciones recopiladas en intervalos de tiempo regulares. Este campo de estudio se centra en el análisis, la modelización y la predicción de datos que varían con el tiempo.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./fca.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">FCA</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./seriestemporales.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Series temporales</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>